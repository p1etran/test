<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Walentynki dla Zuzi ğŸŒ»</title>
  <style>
    :root {
      --night: #1a3657;
      --sunrise: linear-gradient(to bottom, #ff9966, #ff5e62);
      --day: #fff3e0;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      margin: 0;
      height: 100vh;
      overflow: hidden;
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--night);
      transition: background 20s linear;
    }

    .container {
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      position: relative;
      text-align: center;
    }

    /* The "sun" that rises */
    #sun {
      width: 80px;
      height: 80px;
      background: #ffdd00;
      border-radius: 50%;
      position: fixed;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      box-shadow: 0 0 40px #ffdd0080;
      transition: all 20s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 1;
    }

    /* Intro text that fades in */
    .message {
      color: white;
      position: absolute;
      width: 100%;
      top: 15%;
      opacity: 0;
      transition: opacity 3s;
      padding: 0 20px;
      z-index: 2;
      line-height: 1.4;
    }

    /* The line-by-line romantic text */
    .romantic-text {
      position: absolute;
      top: 35%;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      max-width: 600px;
      color: white;
      font-size: 1.4rem;
      line-height: 1.6;
      opacity: 0;
      transition: opacity 2s ease-in-out;
    }

    /* Floating hearts/flowers (particles) */
    .particle {
      position: fixed;
      font-size: 2rem;
      animation: float 3s linear forwards;
      pointer-events: none;
      z-index: 2;
    }
    @keyframes float {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(-100vh) rotate(360deg);
        opacity: 0;
      }
    }

    /* Initial "Rozpocznij" button */
    .start-button {
      padding: 1.2rem 2.5rem;
      font-size: 1.4rem;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      position: absolute;
      bottom: 30px;
      z-index: 9999;
      background: #ff6b6b;
      color: white;
      box-shadow: 0 5px 15px rgba(255,107,107,0.3);
      opacity: 0;
      transform: translateY(20px);
      transition: all 2s ease;
    }

    /* Final or question screens */
    .final-screen {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      background: var(--day);
      padding: 30px 20px;
      text-align: center;
      overflow: auto;
    }

    .sunflower {
      font-size: 4rem;
      margin: 20px auto;
      animation: rotate 5s infinite linear;
    }
    @keyframes rotate {
      from { transform: rotate(0deg); }
      to   { transform: rotate(360deg); }
    }

    /* The "Na pewno?" style for newly spawned buttons */
    .pop-btn {
      position: absolute;
      background: #fa8072;
      color: white;
      font-size: 1.1rem;
      border: none;
      border-radius: 20px;
      padding: 0.6rem 1rem;
      cursor: pointer;
      box-shadow: 0 3px 8px rgba(0,0,0,0.2);
      z-index: 9999;
    }
  </style>
</head>

<body>
  <div class="container">
    <button class="start-button" id="startButton">Rozpocznij NaszÄ… HistoriÄ™ ğŸŒ»</button>
    <div class="message" id="message">
      <h2>KaÅ¼dy dzieÅ„ z TobÄ… to nowy powÃ³d do szczÄ™Å›cia... ğŸŒ»</h2>
      <p>Patrz jak nasza miÅ‚oÅ›Ä‡ rozkwita razem ze wschodem sÅ‚oÅ„ca</p>
    </div>
    <div class="romantic-text" id="romanticText"></div>
  </div>

  <script>
    /*******************************************************
     * 1) Data & Variables
     *******************************************************/
    let animationRunning = false;
    let particlesInterval;
    const romanticLines = [
      "DzieÅ„ dobry, kochanie. ğŸ’–",
      "ZastanawiaÅ‚em siÄ™, jak zaczÄ…Ä‡ ten dzieÅ„...",
      "I zrozumiaÅ‚em, Å¼e najlepszym poczÄ…tkiem jesteÅ› Ty",
      "TwÃ³j uÅ›miech rozÅ›wietla mÃ³j Å›wiat bardziej niÅ¼ sÅ‚oÅ„ce",
      "DziÅ›, gdy sÅ‚oÅ„ce wstaje, myÅ›lÄ™ o tym, jak wiele radoÅ›ci mi dajesz.",
      "CieszÄ™ siÄ™, Å¼e mogÄ™ byÄ‡ czÄ™Å›ciÄ… Twojego Å¼ycia i dzieliÄ‡ z TobÄ… te maÅ‚e, codzienne chwile.",
      "DziÄ™kujÄ™, Å¼e jesteÅ› taka, jaka jesteÅ› â€“ wyjÄ…tkowa, peÅ‚na ciepÅ‚a i uÅ›miechu.",
      "Kocham CiÄ™ za to, jak potrafisz rozjaÅ›niÄ‡ nawet najciemniejszy dzieÅ„.",
      "DziÅ› i zawsze â€“ jesteÅ› moim sÅ‚oÅ„cem. ğŸŒ",
      "A teraz... mam dla Ciebie maÅ‚e pytanie. ğŸ˜Š"
    ];

    /*******************************************************
     * 2) Particles (Hearts/Flowers)
     *******************************************************/
    function createParticles() {
      particlesInterval = setInterval(() => {
        const types = ['ğŸŒ»', 'ğŸ’–', 'âœ¨', 'ğŸŒ¸'];
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + 'vw';
        particle.textContent = types[Math.floor(Math.random() * types.length)];
        document.body.appendChild(particle);
        setTimeout(() => particle.remove(), 3000);
      }, 250);
    }

    /*******************************************************
     * 3) Romantic text, line by line
     *******************************************************/
    function showRomanticText() {
      const textElement = document.getElementById('romanticText');
      let lineIndex = 0;

      const showNextLine = () => {
        if (lineIndex < romanticLines.length) {
          textElement.textContent = romanticLines[lineIndex];
          textElement.style.opacity = '1';
          lineIndex++;

          // Fade out line after 3s
          setTimeout(() => {
            textElement.style.opacity = '0';
          }, 3000);

          // Show next line after 4s
          setTimeout(showNextLine, 4000);
        }
      };
      showNextLine();
    }

    /*******************************************************
     * 4) Sunrise Animation
     *******************************************************/
    function startSunrise() {
      if (animationRunning) return;
      animationRunning = true;

      // Create the sun element
      const sun = document.createElement('div');
      sun.id = 'sun';
      document.body.appendChild(sun);

      // Start sunrise effect
      setTimeout(() => {
        document.body.style.background = "var(--sunrise)";
        sun.style.transform = "translateY(-120vh)";
        document.getElementById('message').style.opacity = '1';
        showRomanticText();
      }, 50);

      // Start floating hearts/flowers
      createParticles();

      // Remove the start button
      document.getElementById('startButton').remove();

      // After ~18s, switch to final question screen
      setTimeout(() => {
        showFinalQuestion();
      }, 18000);
    }

    /*******************************************************
     * 5) Final Question Screen
     *******************************************************/
    function showFinalQuestion() {
      clearInterval(particlesInterval);

      // Overwrite body with a new layout
      document.body.innerHTML = `
        <div class="container" style="
          background: var(--day);
          align-items: flex-start;
          justify-content: flex-start;
          overflow: auto;
          text-align: center;
        ">
          <div class="sunflower">ğŸ’—</div>
          <h1 style="
              color:#ff6b6b; 
              font-size:2rem; 
              margin: 10px 20px 0; 
              line-height: 1.3;
            ">
            Zuziu, czy zostaniesz mojÄ… WalentynkÄ…? 
          </h1>
          <div style="
            margin-top: 30px; 
            text-align: center;
            display: flex; 
            flex-direction: row; 
            justify-content: center;
          ">
            <button id="przyciskTak"
              style="
                background:#ff6b6b; color:white; padding:1.5rem 3rem; font-size:1.4rem;
                border:none; border-radius:30px; cursor:pointer;
                box-shadow:0 5px 15px rgba(255,107,107,0.3);
                margin-right:30px;
              ">
              Tak! ğŸ’•
            </button>
            <button id="przyciskNie"
              style="
                background:#ff4444; color:white; padding:1.5rem 2rem; font-size:1.4rem;
                border:none; border-radius:30px; cursor:pointer;
                box-shadow:0 5px 15px rgba(255,68,68,0.3);
              ">
              Nie ğŸ™Š
            </button>
          </div>
        </div>
      `;

      // Hook up the final screen buttons
      const nieButton = document.getElementById('przyciskNie');
      const takButton = document.getElementById('przyciskTak');

      takButton.addEventListener('click', showSuccessScreen);
      nieButton.addEventListener('click', spawnNaPewno);
    }

    /*******************************************************
     * 6) "Na pewno?" Spawning Logic
     *******************************************************/
    function spawnNaPewno() {
      // Create a new button
      const newBtn = document.createElement('button');
      newBtn.className = 'pop-btn';
      newBtn.textContent = 'Na pewno? ğŸ‘€';

      // Place it offscreen to measure width/height
      newBtn.style.left = '-9999px';
      newBtn.style.top = '-9999px';
      document.body.appendChild(newBtn);

      // measure
      const rect = newBtn.getBoundingClientRect();
      // position it randomly within the viewport
      const { x, y } = getRandomPosition(rect.width, rect.height);
      newBtn.style.left = x + 'px';
      newBtn.style.top = y + 'px';

      // Each time "Na pewno?" is clicked => spawn a new one again
      newBtn.addEventListener('click', (ev) => {
        ev.stopPropagation();
        spawnNaPewno();
      });
    }

    function getRandomPosition(btnWidth, btnHeight) {
      const padding = 20;
      const maxX = window.innerWidth - btnWidth - padding;
      const maxY = window.innerHeight - btnHeight - padding;
      const x = Math.random() * (maxX - padding) + padding;
      const y = Math.random() * (maxY - padding) + padding;
      return { x, y };
    }

    /*******************************************************
     * 7) If "Tak!" is clicked => final screen
     *******************************************************/
    function showSuccessScreen() {
      document.body.innerHTML = `
        <div class="final-screen">
          <div class="sunflower" style="margin-top:0;">ğŸ’ğŸŒ»ğŸ’</div>
          <h1 style="
            color:#ff6b6b; 
            font-size:2rem; 
            margin: 10px 0 0;
          ">
            JesteÅ› najlepszÄ… WalentynkÄ…! ğŸ’˜<br>
            Love u babe! ğŸ­
          </h1>
          <div style="margin-top:2rem; font-size:1.5rem">
            ğŸŒ»ğŸ’–ğŸŒ»ğŸ˜˜ğŸŒ»â¤ï¸ğŸŒ»
          </div>
        </div>
      `;
    }

    /*******************************************************
     * 8) Start Button / Page Load
     *******************************************************/
    window.addEventListener('load', () => {
      const startButton = document.getElementById('startButton');
      // Make it fade in
      startButton.style.opacity = '1';
      startButton.style.transform = 'translateY(0)';
      startButton.addEventListener('click', startSunrise);
    });
  </script>
</body>
</html>
